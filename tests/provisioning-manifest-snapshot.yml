version: 1.0
jobs:
  - type: asset
    fetch: http
    username: NEXUS_USERNAME
    password: NEXUS_PASSWORD
    source: https://store.jahia.com/cms/mavenproxy/private-app-store/org/jahia/modules/graphql-dxm-provider/1.9.0/graphql-dxm-provider-1.9.0.jar
    filepath: /tmp/graphql-dxm-provider-LATEST.jar
  - type: module
    forceInstall: true
    id: graphql-dxm-provider
    filepath: /tmp/graphql-dxm-provider-LATEST.jar
  - type: asset
    fetch: http
    username: NEXUS_USERNAME
    password: NEXUS_PASSWORD
    source: https://devtools.jahia.com/nexus/service/local/artifact/maven/redirect?r=jahia-enterprise-snapshots&g=org.jahia.modules&a=server-availability-manager&v=LATEST
    filepath: /tmp/SAM-LATEST.jar
  - type: module
    id: server-availability-manager
    filepath: /tmp/SAM-LATEST.jar    
